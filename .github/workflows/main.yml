name: Flask CI/CD Pipeline

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      # TODO: Add your workflow steps here
      # Hint: You'll need to:
      # 1. Checkout code
      # 2. Setup Python
      # 3. Install dependencies
      # 4. Run pytest
      
  notify:
    runs-on: ubuntu-latest
    if: always()
    needs: [test]
    steps:
      # TODO: Add Discord notification steps here
      # Hint: Use a Discord webhook action or curl
      #steps:
      # Step 1: Get the code from your repository
      #- name: Checkout code
      #  uses: actions/checkout@v4
      
      # Step 2: Set up Python
      #- name: Set up Python
      #  uses: actions/setup-python@v5
      #  with:
      #    python-version: '3.11'
      
      # Step 3: Install dependencies
      #- name: Install dependencies
      #  run: |
      #    python -m pip install --upgrade pip
      #    pip install -r requirements.txt
      
      # Step 4: Run the tests
      #- name: Run pytest
      #  run: pytest -v

      - name: Discord notification
          uses: cl8dep/action-discord@v0
          with:
            webhook: ${{ secrets.DISCORD_WEBHOOK }}
            message: 'Hello World'